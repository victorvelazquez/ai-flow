# /pre-pr-check â€” Final Quality Review Before Pull Request

> Use this prompt to ensure code and documentation quality before creating a pull request in **ai-bootstrap**.

---

## Workflow Steps

Execute each step sequentially. After each step, ask the user if they want to continue to the next one.

### Step 1: Lint & Fix ğŸ”

Run automatic linting and fix style/code errors.

**Actions:**
- Execute linting tool (ESLint, Prettier, etc.)
- Auto-fix correctable issues
- Report remaining warnings/errors

**Command:**
```bash
npm run lint
```

**After completion, ask:** "Continue to Docs Update & Maintenance?"

---

### Step 2: Docs Update & Maintenance ğŸ“š

Update main documentation and review for outdated/incomplete sections.

**Actions:**
- Scan for outdated documentation references
- Update README, AGENT.md, and related docs with recent changes
- Suggest improvements for incomplete sections
- Verify links and examples are current

**After completion, ask:** "Continue to Dependency Validation?"

---

### Step 3: Dependency Validation ğŸ“¦

Check for outdated or vulnerable dependencies and suggest updates.

**Actions:**
- Run `npm outdated` or equivalent
- Check for security vulnerabilities (`npm audit`)
- Suggest safe updates for dependencies
- Flag breaking changes or major version updates

**Commands:**
```bash
npm outdated
npm audit
```

**After completion, ask:** "Continue to Security Checklist?"

---

### Step 4: Security Checklist ğŸ”

Run a mini security audit (input validation, secrets, permissions, etc.).

**Actions:**
- Verify no hardcoded secrets or API keys in code
- Check input validation on user-facing functions
- Review authentication/authorization implementations
- Scan for common vulnerabilities (SQL injection, XSS, etc.)
- Validate environment variable usage

**Command:**
```bash
npm audit
```

**After completion, ask:** "Continue to Run Tests?"

---

### Step 5: Run Tests ğŸ§ª

Execute all tests and show coverage report.

**Actions:**
- Execute full test suite
- Generate coverage report
- Highlight failed tests or low coverage areas
- Suggest additional test cases if needed

**Command:**
```bash
npm test
```

**After completion, ask:** "Continue to Conventional Commit?"

---

### Step 6: Conventional Commit ğŸ’¾

Make an automatic commit with a conventional message based on changes.

**Actions:**
- Analyze changed files
- Generate conventional commit message (feat, fix, docs, chore, etc.)
- Stage and commit changes
- Show commit message for review

**Example:**
```bash
git add .
git commit -m "feat: add new feature"
```

**After completion, ask:** "Continue to Summary & PR Suggestion?"

---

### Step 7: Summary & Pull Request Suggestion ğŸ“Š

Show summary of changes and actions performed.

**Final Output:**
- âœ… List all executed steps
- ğŸ“Š Summary of files modified
- ğŸ§ª Test results and coverage stats
- ğŸ” Security and dependency check results
- ğŸ’¾ Commit hash (if committed)

**Pull Request Suggestion:**
If changes were made, suggest:  
"âœ… All quality checks passed! Ready to create a pull request to share improvements with the team/community."

---

## Configuration

**Project:** ai-bootstrap  
**Language:** TypeScript  
**Framework:** Node.js CLI  
**Test Command:** `npm test`  
**Lint Command:** `npm run lint`  
**Coverage Minimum:** 80%

---

## Notes

- This prompt is designed for the final review before merging or opening a PR.
- You can customize steps or add more checks as needed for **ai-bootstrap**.
- Skip any step that's not applicable to your project.

---

**Generated by AI Bootstrap â€” Quality made easy**
